{% extends "base.html" %}

{% block head %}
<script src="{{ url_for('static', filename='js/post_map.js') }}"></script>
<link rel="stylesheet" href="{{ url_for('static', filename='css/form-validation.css') }}">
<title>Mascota Perdida</title>
{% endblock %}

{% block body %}

<div class="container">
    <main>
    <div class="bd-callout bd-callout-warning">
        <h5 id="date--color-input-support">Atención: Este formulario es para quienes perdieron su mascota y quieren encontrarla.</h5>
        <p>    Si encontraste un animalito en la calle y quieres publicarlo, presiona <a href="/{{ user_id }}/found_pet">aquí.</a>
        </p></div>

<form action="/{{ user_id }}/lost_pet" method="post" class="form_center" id="main_form" enctype="multipart/form-data">
    {% with messages = get_flashed_messages() %}
        {% if messages %}
            {% for message in messages %}
                <p>{{ message }}</p>
            {% endfor %}
        {% endif %}
    {% endwith %}
    <fieldset>
        <p>¿Qué perdiste?</p>
        <div class="form-group">
            <input type="radio" class="form-check-input" name="mascota" value="perro" id="perro" checked>
            <label for="perro">Perro</label>
            <input type="radio" class="form-check-input" name="mascota" value="gato" id="gato">
            <label for="gato">Gato</label>
        </div>
        <div class="form-group">
            <label for="mascotaNombre">Se busca a</label>
            <input type="text" name="nombre" id="mascotaNombre" placeholder="Nombre de tu mascota" required>
            <label for="perdidaDesde">desde el día</label>
            <input type="date" name="fecha" id="perdidaDesde" placeholder="dd-mm-yyyy" required>
            <label for="ultimaVista">última vez visto en las inmediaciones de</label>
            <input type="text" name="calle_1" placeholder="Calle 1" id="ultimaVista" required>
            <label for= "y">y</label>
            <input type="text" id="y" name="calle_2" placeholder="Calle 2" required>
            barrio
            <input type="text" name="barrio" placeholder="Barrio" required>
            a las
            <input type="time" name="hora" required>
            horas.</p>
            <input type="number" step="any" name="latitude"  id="postLat"  required>
            <input type="number" step="any" name="longitude" id="postLng" required>
            <br>
            <label for="image">Sube una imagen:</label>
            <input type="file" name="foto" required>
            <div class ="card p2">
            <div id="post_map"></div>
            <script
                src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBqNj3BPTdCSu9fTtAlj4LSLD5FAidsa7M&callback=initMap&libraries=&v=weekly"
                async
            ></script>
        </div>
        </div>
        <button type="submit" class="w-100 btn btn-primary btn-lg" id="form-submit">Submit</button>
    </fieldset>
</form>
</main>
</div>
{% endblock %}