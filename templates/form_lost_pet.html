{% extends "base.html" %}

{% block head %}
<script src="{{ url_for('static', filename='js/post_map.js') }}"></script>
<link rel="stylesheet" href="{{ url_for('static', filename='styles/index.css') }}">
<title>Mascota Perdida</title>
{% endblock %}

{% block body %}
<p>Atención: Este formulario es para quienes perdieron su mascota y quieren encontrarla.
    Si encontraste un animalito en la calle y quieres publicarlo, presiona <a href="/{{ user_id }}/found_pet">aquí.</a>
</p>
<br>
<form action="/{{ user_id }}/lost_pet" method="post" class="form_center" id="main_form" enctype="multipart/form-data">
    {% with messages = get_flashed_messages() %}
        {% if messages %}
            {% for message in messages %}
                <p>{{ message }}</p>
            {% endfor %}
        {% endif %}
    {% endwith %}
    <fieldset>
        <p>¿Qué perdiste?</p>
        <div class="form-group">
            <input type="radio" name="mascota" value="perro" id="perro" checked>
            <label for="perro">Perro</label>
            <input type="radio" name="mascota" value="gato" id="gato">
            <label for="gato">Gato</label>
        </div>
        <div class="form-group">
            <p>Se busca a 
            <input type="text" name="nombre" placeholder="Nombre de tu mascota" required>
            desde el día 
            <input type="date" name="fecha" placeholder="dd-mm-yyyy" required>
            última vez visto en las inmediaciones de 
            <input type="text" name="calle_1" placeholder="Calle 1" required>
            y 
            <input type="text" name="calle_2" placeholder="Calle 2" required>
            barrio
            <input type="text" name="barrio" placeholder="Barrio" required>
            a las 
            <input type="time" name="hora" required>
            horas.</p>
            <input type="number" step="any" name="latitude"  id="postLat"  required>
            <input type="number" step="any" name="longitude" id="postLng" required>
            <br>
            <label for="image">Sube una imagen:</label>
            <input type="file" name="foto" required>
            <div id="post_map"></div>
            <script
                src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBqNj3BPTdCSu9fTtAlj4LSLD5FAidsa7M&callback=initMap&libraries=&v=weekly"
                async
            ></script>
        </div>
        <button type="submit" class="btn btn-primary" id="form-submit">Submit</button>
    </fieldset>
</form>
{% endblock %}